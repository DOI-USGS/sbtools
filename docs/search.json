[{"path":"http://doi-usgs.github.io/sbtools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"David Blodgett. Maintainer. Luke Winslow. Author. Scott Chamberlain. Contributor. Alison Appling. Contributor. Jordan Read. Contributor.","code":""},{"path":"http://doi-usgs.github.io/sbtools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Winslow, LA, S Chamberlain, AP Appling, JS Read. 2016. sbtools: package connecting R cloud-based data collaborative online research. R Journal 8:387-398.","code":"@Article{,   author = {Luke A Winslow and Scott Chamberlain and Alison P Appling and Jordan S Read},   title = {sbtools: A Package Connecting R to Cloud-based Data for Collaborative Online Research},   journal = {The R Journal},   year = {2016},   volume = {8},   issue = {1},   url = {https://journal.r-project.org/archive/2016-1/winslow-chamberlain-appling-etal.pdf}, }"},{"path":"http://doi-usgs.github.io/sbtools/DISCLAIMER.html","id":null,"dir":"","previous_headings":"","what":"Disclaimer","title":"Disclaimer","text":"software preliminary provisional subject revision. provided meet need timely best science. software received final approval U.S. Geological Survey (USGS). warranty, expressed implied, made USGS U.S. Government functionality software related material shall fact release constitute warranty. software provided condition neither USGS U.S. Government shall held liable damages resulting authorized unauthorized use software.","code":""},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"sciencebase-r-tools","dir":"","previous_headings":"","what":"USGS ScienceBase Tools","title":"USGS ScienceBase Tools","text":"Tools interfacing R ScienceBase data services.","code":""},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"package-description","dir":"","previous_headings":"","what":"Package Description","title":"USGS ScienceBase Tools","text":"package provides rich interface USGS’s ScienceBase, data cataloging collaborative data management platform. information, see sbtools manuscript R Journal (USGS IP-075498). See citation('sbtools') cite package.","code":""},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"recommended-citation","dir":"","previous_headings":"Package Description","what":"Recommended Citation:","title":"USGS ScienceBase Tools","text":"Package source code DOI: https://doi.org/10.5066/P912NGFV","code":"Winslow, LA, S Chamberlain, AP Appling, and JS Read. 2016. sbtools:    A package connecting R to cloud-based data for collaborative online    research. The R Journal 8:387-398."},{"path":[]},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"package-installation","dir":"","previous_headings":"","what":"Package Installation","title":"USGS ScienceBase Tools","text":"install sbtools package, must using R 3.0 greater run following command: get cutting-edge changes, install GitHub using devtools packages:","code":"install.packages(\"sbtools\") remotes::install_github(\"DOI-USGS/sbtools\")"},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"reporting-bugs","dir":"","previous_headings":"","what":"Reporting bugs","title":"USGS ScienceBase Tools","text":"Please consider reporting bugs asking questions Issues page: https://github.com/DOI-USGS/sbtools/issues","code":""},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"USGS ScienceBase Tools","text":"","code":"library(sbtools)  # Query ScienceBase for data about Antarctica query_sb_text('Antarctica', limit=1) #> [[1]] #> <ScienceBase Item>  #>   Title: Tectonics of Antarctica #>   Creator/LastUpdatedBy:      /  #>   Provenance (Created / Updated):   /  #>   Children:  #>   Item ID: 505ba488e4b08c986b3203fa #>   Parent ID: 4f4e4771e4b07f02db47e1e4  # Query for a specific DOI query_sb_doi('10.5066/F7M043G7') #> list()  # Inspect the contents of the above item children <- item_list_children('557f0367e4b023124e8ef621') #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 2.2 seconds... #> Item not found for ID=557f0367e4b023124e8ef621. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Request failed [404]. Retrying in 1.7 seconds... #> Request failed [404]. Retrying in 1 seconds... sapply(children, function(child) child$title) #> list()  # Log in (requires a ScienceBase account) and create an item authenticate_sb(Sys.getenv(\"sb_user\")) # type in password my_home_item <- user_id() new_item <- item_create(title = 'new test item', parent_id = my_home_item) test.txt <- file.path(tempdir(), 'test.txt') writeLines(c('this is','my data file'), \"test.txt\") item_append_files(new_item, \"test.txt\") #> <ScienceBase Item>  #>   Title: new test item #>   Creator/LastUpdatedBy:     dblodgett@usgs.gov / dblodgett@usgs.gov #>   Provenance (Created / Updated):  2022-11-03T19:47:46Z / 2022-11-03T19:47:48Z #>   Children: FALSE #>   Item ID: 63641ae2d34ebe4425074d93 #>   Parent ID: 4f7afec1e4b0b2f259355f30 item_list_files(new_item)$fname #> [1] \"test.txt\"  item_rm(new_item) #> Response [https://www.sciencebase.gov/catalog/item/63641ae2d34ebe4425074d93?format=json] #>   Date: 2022-11-03 19:47 #>   Status: 200 #>   Content-Type: <unknown> #> <EMPTY BODY> unlink(\"test.txt\")"},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"release-procedure","dir":"","previous_headings":"","what":"Release Procedure","title":"USGS ScienceBase Tools","text":"release sbtools package, number steps required. Ensure checks pass code coverage adequate. Ensure NEWS.md reflects updates version. Update DESCRIPTION reflect release version. Build source package upload CRAN. accepted CRAN, convert DISCLAIMER.md approved language. Change references main branch code.json release version. Commit changes tag repository release version. Push tag. Change code.json DISCLAIMER.md back development mode.","code":""},{"path":"http://doi-usgs.github.io/sbtools/index.html","id":"disclaimer","dir":"","previous_headings":"","what":"Disclaimer","title":"USGS ScienceBase Tools","text":"software approved release U.S. Geological Survey (USGS). Although software subjected rigorous review, USGS reserves right update software needed pursuant analysis review. warranty, expressed implied, made USGS U.S. Government functionality software related material shall fact release constitute warranty. Furthermore, software released condition neither USGS U.S. Government shall held liable damages resulting authorized unauthorized use. software public domain contains materials originally came U.S. Geological Survey, agency United States Department Interior. information, see official USGS copyright policy","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/authenticate_sb.html","id":null,"dir":"Reference","previous_headings":"","what":"Authenticate to SB for subsequent calls — authenticate_sb","title":"Authenticate to SB for subsequent calls — authenticate_sb","text":"connects SB, authenticates gets session token communicating SB. supply username password, prompted enter .","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/authenticate_sb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Authenticate to SB for subsequent calls — authenticate_sb","text":"","code":"authenticate_sb(username, password)"},{"path":"http://doi-usgs.github.io/sbtools/reference/authenticate_sb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Authenticate to SB for subsequent calls — authenticate_sb","text":"username Sciencebase username password Sciencebase password, prompts user supplied password returned `keyring::key_get(\"sciencebase\", username)`. See keyring-package documentation details.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/current_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Return current cached session — current_session","title":"Return current cached session — current_session","text":"Returns currently cached SB session token. authenticated session, returns NULL. Emits warning session expired.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/current_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return current cached session — current_session","text":"","code":"current_session()"},{"path":"http://doi-usgs.github.io/sbtools/reference/current_session.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return current cached session — current_session","text":"","code":"# \\donttest{  session = current_session() #null unless currently authenticated session #> NULL # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/folder_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a folder — folder_create","title":"Create a folder — folder_create","text":"Create special kind item ScienceBase intended  \"folder\" contains one child items. similar  standard item (item_create) defaults showing  child-items ScienceBase web interface.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/folder_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a folder — folder_create","text":"","code":"folder_create(parent_id = user_id(), name, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/folder_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a folder — folder_create","text":"parent_id sbitem object character ScienceBase ID corresponding  parent item (folder) name (character) folder name ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/folder_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a folder — folder_create","text":"response object","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/folder_create.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a folder — folder_create","text":"","code":"if (FALSE) { folder_create(name=\"foobar345\") }"},{"path":"http://doi-usgs.github.io/sbtools/reference/identifier_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if identifier exists — identifier_exists","title":"Check if identifier exists — identifier_exists","text":"function quickly checks see identifier exists.  quick head request skip overhead item metadta retrieval. also return FALSE identifier exists associated item unavailable due permission restrictions.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/identifier_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if identifier exists — identifier_exists","text":"","code":"identifier_exists(sb_id, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/identifier_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if identifier exists — identifier_exists","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/identifier_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if identifier exists — identifier_exists","text":"Logical, TRUE FALSE","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/identifier_exists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if identifier exists — identifier_exists","text":"","code":"# \\donttest{ # identifier exists identifier_exists(sb_id = \"4f4e4b24e4b07f02db6aea14\") #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 2.3 seconds... #> Error in get_refresh_token(): no token found, must call authenticate_sb()  # identifier does not exist identifier_exists(sb_id = \"aaaaaaakkkkkkkbbbbbb\") #> Request failed [400]. Retrying in 1 seconds... #> Request failed [400]. Retrying in 4 seconds... #> Error in get_refresh_token(): no token found, must call authenticate_sb() # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/initialize_sciencebase_session.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize ScienceBase Session — initialize_sciencebase_session","title":"Initialize ScienceBase Session — initialize_sciencebase_session","text":"opens browser two factor authentication. token can retrieved user drop upper right logged . token pasted console. Can also called pre- fetched token.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/initialize_sciencebase_session.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize ScienceBase Session — initialize_sciencebase_session","text":"","code":"initialize_sciencebase_session(username, token_text = NULL)"},{"path":"http://doi-usgs.github.io/sbtools/reference/initialize_sciencebase_session.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize ScienceBase Session — initialize_sciencebase_session","text":"username email address sciencebase user. token_text character json formatted token text","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/is_logged_in.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether you're logged into a ScienceBase session — is_logged_in","title":"Check whether you're logged into a ScienceBase session — is_logged_in","text":"Check whether logged ScienceBase session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/is_logged_in.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether you're logged into a ScienceBase session — is_logged_in","text":"","code":"is_logged_in()"},{"path":"http://doi-usgs.github.io/sbtools/reference/is_logged_in.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether you're logged into a ScienceBase session — is_logged_in","text":"Logical, TRUE FALSE","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/is_logged_in.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether you're logged into a ScienceBase session — is_logged_in","text":"","code":"if (FALSE) { is_logged_in() }"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Create many new SB items — items_create","title":"Create many new SB items — items_create","text":"method create multiple ScienceBase items single call single HTTP service request. Can useful improving performance creating large number items .","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create many new SB items — items_create","text":"","code":"items_create(   parent_id = user_id(),   title,   ...,   info = NULL,   session = current_session() )"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create many new SB items — items_create","text":"parent_id sbitem object character ScienceBase ID  corresponding parent item (folder). must length 1 .  length 1, recycle every item. title Two titles new SB items ... Additional parameters passed GET, POST, HEAD, PUT, DELETE info (optional) list metadata info new items.  item include named list variables session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create many new SB items — items_create","text":"One objects class sbitem list","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_create.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create many new SB items — items_create","text":"length title info values must length - however, parent_id can length 1 equal length  title info parameters","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_create.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create many new SB items — items_create","text":"","code":"if (FALSE) { # helper function to make a random name aname <- function() paste0(sample(letters, size = 5, replace = TRUE), collapse = \"\")  # Create some items - by default we use your user ID items_create(title = c(aname(), aname()))  # add additional items in the info parameter - by default we use your user ID items_create(title = c(aname(), aname()),      info = list(             list(contacts = list(list(name = \"Suzy\"))),              list(contacts = list(list(name = \"Brandy\")))           )   )    # another example with more information - by default we use your user ID items_create(title = c(aname(), aname()),      info = list(             list(contacts = list(list(name = \"Suzy\"))),              list(contacts = list(list(name = \"Brandy\")))           )   )    # Pass an object of class sbitem (x <- folder_create(user_id(), aname())) items_create(x, title = c(aname(), aname())) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_rm.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove items from SB — items_rm","title":"Remove items from SB — items_rm","text":"FIXME: working yet - httr allow body DELETE","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_rm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove items from SB — items_rm","text":"","code":"items_rm(sb_id, ..., recursive = FALSE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_rm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove items from SB — items_rm","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE recursive logical, FALSE default. CAUTION: setting recursive=TRUE means item deleted, child items child items . session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_rm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove items from SB — items_rm","text":"httr  response object","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_rm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove items from SB — items_rm","text":"","code":"if (FALSE) { # helper function to make a random name aname <- function() paste0(sample(letters, size = 5, replace = TRUE), collapse = \"\")  # Create some items - by default we use your user ID res <- items_create(title = c(aname(), aname())) items_rm(res) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update many SB items with new metadata — items_update","title":"Update many SB items with new metadata — items_update","text":"method update multiple ScienceBase items single call single HTTP service request. Can useful improving performance updating large number items .","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update many SB items with new metadata — items_update","text":"","code":"items_update(sb_id, info, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update many SB items with new metadata — items_update","text":"sb_id sbitem object character ScienceBase ID  corresponding item info list metadata info (key-value pairs) change item ... Additional parameters passed PUT session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update many SB items with new metadata — items_update","text":"One objects class sbitem list","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_update.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Update many SB items with new metadata — items_update","text":"length sb_id > 1, length info input must ","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update many SB items with new metadata — items_update","text":"","code":"if (FALSE) { # helper function to make a random name aname <- function() paste0(sample(letters, size = 5, replace = TRUE), collapse = \"\")  res <- items_create(user_id(), title = c(aname(), aname()))  out <- items_update(res, info = list( list(title = aname()), list(title = aname()) ) ) vapply(out, \"[[\", \"\", \"title\") }"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_upsert.html","id":null,"dir":"Reference","previous_headings":"","what":"Upsert many SB items — items_upsert","title":"Upsert many SB items — items_upsert","text":"Either creates updates (items already exist)","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_upsert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upsert many SB items — items_upsert","text":"","code":"items_upsert(parent_id = user_id(), title = NULL, ..., info = NULL)"},{"path":"http://doi-usgs.github.io/sbtools/reference/items_upsert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upsert many SB items — items_upsert","text":"parent_id sbitem object character ScienceBase ID corresponding  parent item (folder) title title new SB item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE info (optional) list metadata info new item session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_upsert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upsert many SB items — items_upsert","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/items_upsert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upsert many SB items — items_upsert","text":"","code":"if (FALSE) { # helper function to make a random name aname <- function() paste0(sample(letters, size = 5, replace = TRUE), collapse = \"\")  # Create some item - by default we use your user ID z1 <- item_create(title = aname()) z2 <- item_create(title = aname())  # Upsert items (x <- items_upsert(list(z1, z2), title = c(aname(), aname())))  # Call item_upsert again, updates this time items_upsert(x, info = list(     contacts = list(list(name = \"Suzy\"))   ) ) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_append_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload File to Item — item_append_files","title":"Upload File to Item — item_append_files","text":"Adds file item","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_append_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload File to Item — item_append_files","text":"","code":"item_append_files(sb_id, files, ..., scrape_files = TRUE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_append_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload File to Item — item_append_files","text":"sb_id sbitem object character ScienceBase ID corresponding item files string vector paths files uploaded ... Additional parameters passed GET, POST, HEAD, PUT, DELETE scrape_files logical files scraped metadata?  TRUE, sciencebase attempt create extensions based files. example, shapefiles, result shapefile extension  returned facet sciencebase item.  See item: \"58069258e4b0824b2d1d422e\" example. session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_append_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload File to Item — item_append_files","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_append_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload File to Item — item_append_files","text":"","code":"if (FALSE) { res <- item_create(user_id(), \"testing 123\") cat(\"foo bar\", file = \"foobar.txt\") item_append_files(res$id, \"foobar.txt\") item_rm(res) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new SB item — item_create","title":"Create a new SB item — item_create","text":"Create new item ScienceBase requested parent item title.  Info can provided populate metadata time creation.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new SB item — item_create","text":"","code":"item_create(parent_id = user_id(), title, ..., info)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a new SB item — item_create","text":"parent_id sbitem object character ScienceBase ID corresponding  parent item (folder) title title new SB item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE info (optional) list metadata info new item session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a new SB item — item_create","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_create.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a new SB item — item_create","text":"","code":"if (FALSE) { # Create an item - by default we use your user ID item_create(title = \"testing 123\")  # Pass an object of class sbitem x <- folder_create(user_id(), \"foobar456\") item_create(x, \"foobar456-item\") }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"check if identifier touple already exists on SB — item_exists","title":"check if identifier touple already exists on SB — item_exists","text":"returns TRUE touple already belongs sciencebase item, FALSE ","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"check if identifier touple already exists on SB — item_exists","text":"","code":"item_exists(scheme, type, key, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"check if identifier touple already exists on SB — item_exists","text":"scheme identifier scheme type identifier type key identifier key ... Additional parameters passed GET","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"check if identifier touple already exists on SB — item_exists","text":"boolean whether item exists","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_exists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"check if identifier touple already exists on SB — item_exists","text":"","code":"if (FALSE) { item_exists('mda_streams','ts_doobs','nwis_01018035') item_exists('mda_streams','site_root','nwis_01018035') }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_file_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Download files attached to item — item_file_download","title":"Download files attached to item — item_file_download","text":"Function downlod files attached item SB. Either files can specified directly using names destinations parameters, dest_dir can supplied attached files written names stored SB.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_file_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download files attached to item — item_file_download","text":"","code":"item_file_download(   sb_id,   ...,   names,   destinations,   dest_dir = getwd(),   overwrite_file = FALSE )"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_file_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download files attached to item — item_file_download","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE names String vector list file names attached item wish download. destinations String vector list destinations requested files. Must length names dest_dir directory path saving files names destinations  parameter specified. overwrite_file Boolean indicating file overwritten already exists locally session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_file_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download files attached to item — item_file_download","text":"Character vector full paths local files","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_file_download.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download files attached to item — item_file_download","text":"","code":"if (FALSE) {  #downloads all files attached to this item item_file_download('627f1572d34e3bef0c9a30d8', dest_dir=tempdir())  #downloads a specific file attached to this item item_file_download('627f1572d34e3bef0c9a30d8', names='example.txt',     destinations=file.path(tempdir(), 'out.txt'))      }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve SB item — item_get","title":"Retrieve SB item — item_get","text":"Retrieves item metadata ScienceBase based unique ID. Errors requested item ID exist access restricted due permissions.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve SB item — item_get","text":"","code":"item_get(sb_id, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve SB item — item_get","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve SB item — item_get","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve SB item — item_get","text":"","code":"# \\donttest{ # Get an item item_get(\"4f4e4b24e4b07f02db6aea14\") #> Request failed [404]. Retrying in 1.3 seconds... #> Request failed [404]. Retrying in 3.4 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in value[[3L]](cond): Session is not valid.  # Search for item IDs, then pass to item_get library(\"httr\") res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\")) #> Error in get_refresh_token(): no token found, must call authenticate_sb()  if(inherits(res, \"response\") && res$status != 404) {   ids <- vapply(httr::content(res)$items, \"[[\", \"\", \"id\")   lapply(ids[1:3], item_get) } #> Error in eval(expr, envir, enclos): object 'res' not found  # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_fields.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve specific fields from an SB item — item_get_fields","title":"Retrieve specific fields from an SB item — item_get_fields","text":"Retrieve specific fields SB item","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_fields.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve specific fields from an SB item — item_get_fields","text":"","code":"item_get_fields(sb_id, fields, ..., drop = TRUE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_fields.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve specific fields from an SB item — item_get_fields","text":"sb_id sbitem object character ScienceBase ID corresponding item fields vector fields ... Additional parameters passed GET, POST, HEAD, PUT, DELETE drop logical. one field selected, list format dropped? session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_fields.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve specific fields from an SB item — item_get_fields","text":"List serialization chosen metadata SB item","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_fields.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve specific fields from an SB item — item_get_fields","text":"","code":"# \\donttest{ # Get certain fields from an item item_get_fields(\"4f4e4b24e4b07f02db6aea14\", c('title', 'citation', 'contacts')) #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 1 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in get_refresh_token(): no token found, must call authenticate_sb()  #' # If only 1 field selection, do or don't drop list format item_get_fields(\"4f4e4b24e4b07f02db6aea14\", 'title') #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 1.6 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in get_refresh_token(): no token found, must call authenticate_sb() item_get_fields(\"4f4e4b24e4b07f02db6aea14\", 'title', drop = FALSE) #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 1.6 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in get_refresh_token(): no token found, must call authenticate_sb() # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_parent.html","id":null,"dir":"Reference","previous_headings":"","what":"Get an item's parent ID — item_get_parent","title":"Get an item's parent ID — item_get_parent","text":"Retrieves parent supplied item based ScienceBase item tree hierarchy.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_parent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get an item's parent ID — item_get_parent","text":"","code":"item_get_parent(sb_id, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_parent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get an item's parent ID — item_get_parent","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_parent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get an item's parent ID — item_get_parent","text":"item object representing parent supplied item.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_get_parent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get an item's parent ID — item_get_parent","text":"","code":"# \\donttest{ item_get_parent(\"4f4e4b24e4b07f02db6aea14\") #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 1 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in get_refresh_token(): no token found, must call authenticate_sb()  item_get_parent(item_get(\"4f4e4b24e4b07f02db6aea14\")) #> Request failed [404]. Retrying in 1.4 seconds... #> Request failed [404]. Retrying in 2.2 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in value[[3L]](cond): Session is not valid. # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_children.html","id":null,"dir":"Reference","previous_headings":"","what":"Return IDs for all child items — item_list_children","title":"Return IDs for all child items — item_list_children","text":"Returns list child IDs ScienceBase item","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_children.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return IDs for all child items — item_list_children","text":"","code":"item_list_children(sb_id, fields = c(\"id\", \"title\"), ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_children.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return IDs for all child items — item_list_children","text":"sb_id sbitem object character ScienceBase ID corresponding item fields character vector requested data fields. Defaults 'id' 'title'. Full list possible fields  available online SB documentation. ... Additional parameters passed GET, POST, HEAD, PUT, DELETE limit Max children returned. session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_children.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return IDs for all child items — item_list_children","text":"List sbitem child item.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_children.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return IDs for all child items — item_list_children","text":"","code":"if (FALSE) { item_list_children(user_id()) }  # \\donttest{ item_list_children(as.sbitem('5060b03ae4b00fc20c4f3c8b')) #> Error in get_refresh_token(): no token found, must call authenticate_sb() item_list_children(item_get('5060b03ae4b00fc20c4f3c8b')) #> Error in value[[3L]](cond): Session is not valid. # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Get list of files attached to SB item — item_list_files","title":"Get list of files attached to SB item — item_list_files","text":"Lists files attached SB item. Files can downloaded  ScienceBase using item_file_download. (advanced) Recursive options lists files attached item children items. NOTE: sciencebase item can contain -called \"extensions\".  sciencebase item data model refers information describes extension \"facet\". extension facets contain files  (shapefile). \"facet\" attribute return function contain name facet file came file found facet.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get list of files attached to SB item — item_list_files","text":"","code":"item_list_files(sb_id, recursive = FALSE, fetch_cloud_urls = TRUE, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get list of files attached to SB item — item_list_files","text":"sb_id sbitem object character ScienceBase ID corresponding item recursive (logical) List files recursively. Default: FALSE fetch_cloud_urls (logical) fetch tokenized cloud download URLs? Default: TRUE option take slightly longer `url` attribute returned list work direct file downloads use pther applications libraries. ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get list of files attached to SB item — item_list_files","text":"data.frame columns fname, size, url, facet.  item attached files, returns zero row data.frame.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_list_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get list of files attached to SB item — item_list_files","text":"","code":"if (FALSE) {  #regular files item_list_files(\"4f4e4b24e4b07f02db6aea14\")  # files in facets item_list_files(\"5f6a285d82ce38aaa244912e\")  # list files recursively ## create item id <- item_create(user_id(), title=\"some title\") ## 1. create nested item w/ file file <- system.file(\"examples\", \"books.json\", package = \"sbtools\") id2 <- item_create(id, title = \"newest-thing\") item_upload_create(id2, file) ## 2. create nested item w/ file file <- system.file(\"examples\", \"species.json\", package = \"sbtools\") id3 <- item_create(id, title = \"a-new-thing\") item_upload_create(id3, file) ## 3. create nested item w/ file file <- system.file(\"examples\", \"data.csv\", package = \"sbtools\") id4 <- item_create(id, title = \"another-thing\") item_upload_create(id4, file) item_list_files(id = '56562348e4b071e7ea53e09d', recursive = FALSE) # default item_list_files(id = '56562348e4b071e7ea53e09d', recursive = TRUE) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_move.html","id":null,"dir":"Reference","previous_headings":"","what":"Move item from one folder to another — item_move","title":"Move item from one folder to another — item_move","text":"Move item one folder another","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_move.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Move item from one folder to another — item_move","text":"","code":"item_move(sb_id, id_new, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_move.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Move item from one folder to another — item_move","text":"sb_id sbitem object character ScienceBase ID corresponding item id_new Folder/item move id . ScienceBase ID something  can coerced SB item ID .sbitem ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_move.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Move item from one folder to another — item_move","text":"object class sbitem. id, new  parent id","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_move.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Move item from one folder to another — item_move","text":"","code":"if (FALSE) { # create 1st folder (fold1 <- folder_create(user_id(), \"bear123\")) (res <- item_create(fold1, \"item-to-move\"))  # create 2nd folder (fold2 <- folder_create(user_id(), \"bear456\"))  # move item in 1st folder to 2nd folder (res2 <- item_move(res, fold2))  # test identical identical(res2$parentId, fold2$id) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_publish_cloud.html","id":null,"dir":"Reference","previous_headings":"","what":"Publish file to public cloud S3 bucket — item_publish_cloud","title":"Publish file to public cloud S3 bucket — item_publish_cloud","text":"moves cloud file S3 bucket available via ScienceBase authenticated services public S3 bucket.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_publish_cloud.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Publish file to public cloud S3 bucket — item_publish_cloud","text":"","code":"item_publish_cloud(sb_id, files, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_publish_cloud.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Publish file to public cloud S3 bucket — item_publish_cloud","text":"sb_id sbitem object character ScienceBase ID corresponding item files string vector paths files uploaded ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_publish_cloud.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Publish file to public cloud S3 bucket — item_publish_cloud","text":"web service response invisibly.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_publish_cloud.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Publish file to public cloud S3 bucket — item_publish_cloud","text":"","code":"if (FALSE) { res <- item_create(user_id(), \"testing 123\") cat(\"foo bar\", file = \"foobar.txt\") item_upload_cloud(res$id, \"foobar.txt\") item_publish_cloud(res$id, \"foobar.txt\")  }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rename_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename item attached files — item_rename_files","title":"Rename item attached files — item_rename_files","text":"Renames files attached SB item.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rename_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename item attached files — item_rename_files","text":"","code":"item_rename_files(sb_id, names, new_names, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rename_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename item attached files — item_rename_files","text":"sb_id sbitem object character ScienceBase ID corresponding item names List names files rename new_names List new file names use ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rename_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rename item attached files — item_rename_files","text":"","code":"if (FALSE) {  names = c('file1.txt', 'file2.txt') new_names = c('newname1.txt', 'newname2.txt')  item_rename_files('sbid', names, new_names)  }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_replace_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace files associated with an item — item_replace_files","title":"Replace files associated with an item — item_replace_files","text":"replaces existing files associated item new one. NOTE: function replace files stored facets.  facet support added, direct alteration science base item object  required manipulate facets.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_replace_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace files associated with an item — item_replace_files","text":"","code":"item_replace_files(sb_id, files, ..., all = FALSE, scrape_files = FALSE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_replace_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace files associated with an item — item_replace_files","text":"sb_id sbitem object character ScienceBase ID corresponding item files character vector file paths ... Additional parameters passed GET, POST, HEAD, PUT, DELETE boolean indicating attached files removed uploading new files. FALSE files matching names replaced.  wish upload files duplicate names, see item_append_files. Defaults FALSE. scrape_files logical files scraped metadata?  TRUE, sciencebase attempt create extensions based files. example, shapefiles, result shapefile extension  returned facet sciencebase item.  See item: \"58069258e4b0824b2d1d422e\" example. session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove item from SB — item_rm","title":"Remove item from SB — item_rm","text":"Remove item ScienceBase. reversible delete  item attached files. (advanced) Recursive used care result unexpected file deletion.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove item from SB — item_rm","text":"","code":"item_rm(sb_id, ..., limit = 1000, recursive = FALSE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove item from SB — item_rm","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE limit maximum number child items remove called recursive=TRUE. recursive logical, FALSE default. CAUTION: setting recursive=TRUE means item deleted, child items child items . session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove item from SB — item_rm","text":"httr  response object","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove item from SB — item_rm","text":"","code":"if (FALSE) { res <- item_create(user_id(), \"item-to-delete\") item_rm(res) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove files associated with an item — item_rm_files","title":"Remove files associated with an item — item_rm_files","text":"Removes existing files associated item. NOTE: function alter facets can also contain facets. manipulate facets, facet element sciencebase item must altered updated item_update. function key way remove files attached SB items.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove files associated with an item — item_rm_files","text":"","code":"item_rm_files(sb_id, files, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove files associated with an item — item_rm_files","text":"sb_id sbitem object character ScienceBase ID corresponding item files character vector file names remove.  supplied, defaults removing attached files. ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove files associated with an item — item_rm_files","text":"updated object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove files associated with an item — item_rm_files","text":"","code":"if (FALSE) { res <- item_create(user_id(), \"item456\")  cat(\"foo bar\", file = \"foobar.txt\") item_append_files(res, \"foobar.txt\") res <- item_get(res) res$files[[1]]$name res2 <- item_rm_files(res) res2$files }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_recursive.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove an item completely by recursively removing its child items — item_rm_recursive","title":"Remove an item completely by recursively removing its child items — item_rm_recursive","text":"BEWARE: completely removes CHILD ITEMS CHILDREN   well item .","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_recursive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove an item completely by recursively removing its child items — item_rm_recursive","text":"","code":"item_rm_recursive(id, ..., limit)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_recursive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove an item completely by recursively removing its child items — item_rm_recursive","text":"... Additional parameters passed GET, POST, HEAD, PUT, DELETE sb_id sbitem object character ScienceBase ID corresponding item session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_recursive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove an item completely by recursively removing its child items — item_rm_recursive","text":"TRUE indicate success","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_rm_recursive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove an item completely by recursively removing its child items — item_rm_recursive","text":"","code":"if (FALSE) { # Create an item with nested structure authenticate_sb() fname <- \"chairs\" folder = folder_create(user_id(), name = fname) item_create(folder, title='child1') item_create(folder, title='child2')  item_list_children(folder)  # then delete the whole folder sbtools:::item_rm_recursive(folder) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update a SB item with new metadata — item_update","title":"Update a SB item with new metadata — item_update","text":"Updates metadata associated ScienceBase item based  supplied list new updated metadata elements.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update a SB item with new metadata — item_update","text":"","code":"item_update(sb_id, info, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update a SB item with new metadata — item_update","text":"sb_id sbitem object character ScienceBase ID corresponding item info list metadata info (key-value pairs) change item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update a SB item with new metadata — item_update","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update a SB item with new metadata — item_update","text":"","code":"if (FALSE) { res <- item_create(user_id(), \"item-to-update\")  out <- item_update(res, list(title = \"item-updated\")) out$title }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update_identifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Add custom identifier to an existing item — item_update_identifier","title":"Add custom identifier to an existing item — item_update_identifier","text":"Adds updates item's alternative identifier. can add  additional identifiers update already place. See query_item_identifier finding items based alternative identifier.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update_identifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add custom identifier to an existing item — item_update_identifier","text":"","code":"item_update_identifier(sb_id, scheme, type, key, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update_identifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add custom identifier to an existing item — item_update_identifier","text":"sb_id sbitem object character ScienceBase ID corresponding item scheme identifier scheme type identifier type key identifier key ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_update_identifier.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add custom identifier to an existing item — item_update_identifier","text":"","code":"if (FALSE) {  initialize_sciencebase_session() item_update_identifier(\"5485fd99e4b02acb4f0c7e81\", \"scheme\", \"type\", \"key\")  }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_cloud.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload File to Item Cloud Storage — item_upload_cloud","title":"Upload File to Item Cloud Storage — item_upload_cloud","text":"Adds file item cloud storage","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_cloud.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload File to Item Cloud Storage — item_upload_cloud","text":"","code":"item_upload_cloud(sb_id, files, ..., status = TRUE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_cloud.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload File to Item Cloud Storage — item_upload_cloud","text":"sb_id sbitem object character ScienceBase ID corresponding item files string vector paths files uploaded ... Additional parameters passed GET, POST, HEAD, PUT, DELETE status logical display upload status? session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_cloud.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload File to Item Cloud Storage — item_upload_cloud","text":"Success message invisibly. NOTE: cloud processing can take time added file may appear immediately.  reason, sciencebase item json returned done similar functions.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_cloud.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload File to Item Cloud Storage — item_upload_cloud","text":"","code":"if (FALSE) { res <- item_create(user_id(), \"testing 123\") cat(\"foo bar\", file = \"foobar.txt\") item_upload_cloud(res$id, \"foobar.txt\") }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_create.html","id":null,"dir":"Reference","previous_headings":"","what":"#' Upload file(s) and create a new item — item_upload_create","title":"#' Upload file(s) and create a new item — item_upload_create","text":"Create new item files attached, one call SB","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"#' Upload file(s) and create a new item — item_upload_create","text":"","code":"item_upload_create(parent_id, files, ..., scrape_files = TRUE)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"#' Upload file(s) and create a new item — item_upload_create","text":"parent_id sbitem object character ScienceBase ID corresponding  parent item (folder) files string vector paths files uploaded ... Additional parameters passed GET, POST, HEAD, PUT, DELETE scrape_files logical files scraped metadata?  TRUE, sciencebase attempt create extensions based files. example, shapefiles, result shapefile extension  returned facet sciencebase item.  See item: \"58069258e4b0824b2d1d422e\" example. session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"#' Upload file(s) and create a new item — item_upload_create","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upload_create.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"#' Upload file(s) and create a new item — item_upload_create","text":"","code":"if (FALSE) { # You'll need a parent id for a folder/item ## here, using your highest level parent folder file <- system.file(\"examples\", \"books.json\", package = \"sbtools\") item_upload_create(user_id(), file) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upsert.html","id":null,"dir":"Reference","previous_headings":"","what":"Upsert an SB item — item_upsert","title":"Upsert an SB item — item_upsert","text":"Either creates updates (item already exists)","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upsert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upsert an SB item — item_upsert","text":"","code":"item_upsert(parent_id = user_id(), title = NULL, ..., info = NULL)"},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upsert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upsert an SB item — item_upsert","text":"parent_id sbitem object character ScienceBase ID corresponding  parent item (folder) title title new SB item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE info (optional) list metadata info new item session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upsert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upsert an SB item — item_upsert","text":"object class sbitem","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/item_upsert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upsert an SB item — item_upsert","text":"","code":"if (FALSE) { # helper function to make a random name aname <- function() paste0(sample(letters, size = 5, replace = TRUE), collapse = \"\")  # Create an item - by default we use your user ID (x <- item_upsert(title = aname()))  # Call item_upsert again, updates this time item_upsert(x, info = list(     contacts = list(list(name = \"Suzy\"))   ) ) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_items.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for items using generic query parameters — query_items","title":"Query SB for items using generic query parameters — query_items","text":"Query SB items using generic query parameters","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_items.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for items using generic query parameters — query_items","text":"","code":"query_items(query_list, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_items.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for items using generic query parameters — query_items","text":"query_list List item query selectors. See Details. ... Additional parameters passed GET session Session object authenticate_sb","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_items.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query SB for items using generic query parameters — query_items","text":"object class response","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_items.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Query SB for items using generic query parameters — query_items","text":"following list query parameters can use  query_list parameter. s (character): option: \"Search\" format (character): One \"json\", \"xml\", \"csv\", \"atom\" q (character): Query string q (character): Lucene query string max (integer): Number records return. Default: 20 offset (integer): Record start . Default: 1 fields (character): Character vector fields return folderId (character): Alphanumeric string representing folder ID parentId (character): Alphanumeric string representing folder ID.  can used return children items within folder, within   sub-folders. sort (character) One \"firstContact\", \"dateCreated\", \"lastUpdated\",   \"title\". default sorted search score order (character) One \"asc\" \"desc\" ids Vector item ids. ancestors (character): Alphanumeric string representing folder ID.  can used return children items within folder, even within   sub-folders. Used filter tags Filter tags, e.g, \"distribution\". Used filter browseCategory One .... Used filter browseType One .... Used filter dateRange json string keys dateType choice. dateType one  Acquisition, Award, Collected, dateCreated, Received, Reported, Transmitted, Due, End,  Info, lastUpdated, Publication, Release, Start. choice one   day, week, month, year, range (range selected, also supply start end  keys dates form YYYY-MM-DD). Used filter projectStatus One Active, Approved, Completed, Progress, Proposed. Used filter spatialQuery WKT string. Used filter extentQuery Use existing extents (footprints) search item bounding   boxes representational points. alphanumeric string.","code":""},{"path":[]},{"path":"http://doi-usgs.github.io/sbtools/reference/query_items.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for items using generic query parameters — query_items","text":"","code":"if (FALSE) { # Basic query library(\"httr\") res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\")) httr::content(res)  # Paging ## max - number of results res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\", max = 2)) length(httr::content(res)$items) res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\", max = 30)) length(httr::content(res)$items) ## offset - start at certain record res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\",  max = 30, offset = 10)) httr::content(res) ## links - use links given in output for subsequent queries httr::content(httr::GET(     content(res)$nextlink$url ))  # Return only certain fields res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\", fields = 'title')) httr::content(res)$items[[1]]  # Search a folder ID res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\",  folderId = '504216b9e4b04b508bfd337d')) httr::content(res)$items  # Filter by ancestor query_items(list(s = \"Search\", ancestors = \"4f831626e4b0e84f6086809b\", format = \"json\"))  # Filter by tags content(query_items(list(s = \"Search\", tags = \"distribution\", format = \"json\")))  # Filter by browse category content(query_items(list(s = \"Search\", browseCategory = \"Image\", format = \"json\")))  # Filter by browse type content(query_items(list(s = \"Search\", browseType = \"Collection\", format = \"json\")))  # Filter by WKT geometry string wkt1 <- \"POLYGON((-104.4 41.0,-95.1 41.0,-95.1 37.5,-104.4 37.5,-104.4 41.0))\" wkt2 <- \"POLYGON((-104.4 38.3,-95.2 38.3,-95.2 33.7,-104.4 34.0,-104.4 38.3))\" content(query_items(list(s = \"Search\", spatialQuery = wkt1, format = \"json\"))) content(query_items(list(s = \"Search\", spatialQuery = wkt1,      spatialQuery = wkt2, format = \"json\")))  # Project status content(query_items(list(s = \"Search\", projectStatus = \"Active\", format = \"json\")))  # Date range query_items(list(s = \"Search\",      dateRange = '{\"dateType\":\"Collected\",\"choice\":\"year\"}', format = \"json\")) query_items(list(s = \"Search\",      dateRange = '{\"dateType\":\"lastUpdated\",\"choice\":\"month\"}', format = \"json\")) query_items(list(s = \"Search\",      dateRange =      '{\"dateType\":\"Release\",\"choice\":\"range\",\"start\":\"2014-09-01\",\"end\":\"2015-09-01\"}',      format = \"json\"))  # Extent query ## just a alphanumeric code content(query_items(list(s = \"Search\", extentQuery = '2873462', format = \"json\"))) ## with buffering, intersect content(query_items(list(s = \"Search\", extentQuery = '{\"extent\":2873462,     \"relation\":\"intersects\",\"buffer\":\"5\"}', format = \"json\"))) ## with buffering, within content(query_items(list(s = \"Search\", extentQuery = '{\"extent\":2873462,     \"relation\":\"within\",\"buffer\":\"5\"}', format = \"json\"))) ## with buffering, within content(query_items(list(s = \"Search\", extentQuery = '{\"extent\":2873462,     \"relation\":\"disjoint\",\"buffer\":\"5\"}', format = \"json\")))      # Lucene query ## note, you have to pass the q parameter if you pass the lq parameter content(query_items(list(s = \"Search\", q = \"\", lq = '\"sage OR grouse\"'))) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_identifier.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for items based on custom identifier — query_item_identifier","title":"Query SB for items based on custom identifier — query_item_identifier","text":"Find items scheme also query specific type key","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_identifier.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for items based on custom identifier — query_item_identifier","text":"","code":"query_item_identifier(scheme, type = NULL, key = NULL, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_identifier.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for items based on custom identifier — query_item_identifier","text":"scheme identifier scheme type (optional) identifier type key (optional) identifier key ... Additional parameters passed GET limit Max number matching items return session (optional) SB Session use, provided queries public  items ","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_identifier.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query SB for items based on custom identifier — query_item_identifier","text":"SB item id matching item. NULL matching item found.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_identifier.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for items based on custom identifier — query_item_identifier","text":"","code":"if (FALSE) { authenticate_sb()  ex_item = item_create(title='identifier example') item_update_identifier(ex_item, 'project1', 'dataset1', 'key1') ex2_item = item_create(title='identifier example 2') item_update_identifier(ex2_item, 'project1', 'dataset1', 'key2')   #query the specific item query_item_identifier('project1', 'dataset1', 'key1')  #or get the collection of items based on the ID hierarchy query_item_identifier('project1')  item_rm(ex_item) item_rm(ex2_item) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_in_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Search within an SB folder — query_item_in_folder","title":"Search within an SB folder — query_item_in_folder","text":"Search text title, abstract, etc. within SB folder subfolders.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_in_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search within an SB folder — query_item_in_folder","text":"","code":"query_item_in_folder(text, folder, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_in_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search within an SB folder — query_item_in_folder","text":"text text title, abstract, etc. desired item folder SB item ID folder search ... Additional parameters passed GET limit Max number matching items return session (optional) SB Session use, provided queries public  items ","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_item_in_folder.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search within an SB folder — query_item_in_folder","text":"list matching items sbitem objects.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for items using generic query parameters — query_sb","title":"Query SB for items using generic query parameters — query_sb","text":"Generic SB query function construct advanced queries. following list query parameters can use  query_list parameter. q (character): Query string q (character): Lucene query string fields (character): Character vector fields return folderId (character): Alphanumeric string representing folder ID parentId (character): Alphanumeric string representing folder ID.  can used return children items within folder, within   sub-folders. sort (character) One \"firstContact\", \"dateCreated\", \"lastUpdated\",   \"title\". default sorted search score order (character) One \"asc\" \"desc\" ids Vector item ids. ancestors (character): Alphanumeric string representing folder ID.  can used return children items within folder, even within   sub-folders. Used filter tags Filter tags, e.g, \"distribution\". Used filter browseCategory One .... Used filter browseType One .... Used filter dateRange json string keys dateType choice. dateType one  Acquisition, Award, Collected, dateCreated, Received, Reported, Transmitted, Due, End,  Info, lastUpdated, Publication, Release, Start. choice one   day, week, month, year, range (range selected, also supply start end  keys dates form YYYY-MM-DD). Used filter projectStatus One Active, Approved, Completed, Progress, Proposed. Used filter spatialQuery WKT string. Used filter extentQuery Use existing extents (footprints) search item bounding   boxes representational points. alphanumeric string.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for items using generic query parameters — query_sb","text":"","code":"query_sb(query_list, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for items using generic query parameters — query_sb","text":"query_list List item query selectors. See Details. ... Additional parameters passed GET limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow. session Session object authenticate_sb","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query SB for items using generic query parameters — query_sb","text":"list sbitem objects","code":""},{"path":[]},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for items using generic query parameters — query_sb","text":"","code":"if (FALSE) { query_sb(list(q = \"water\"))  # Search by project status query_sb(list(projectStatus = \"Active\"))  # Search a folder ID query_sb(list(q = \"water\", folderId = '504216b9e4b04b508bfd337d'))  # Filter by ancestor query_sb(list(ancestors = \"4f831626e4b0e84f6086809b\"))  # Filter by tags query_sb(list(tags = \"distribution\"))  # Filter by browse category query_sb(list(browseCategory = \"Image\"))  # Filter by browse type query_sb(list(browseType = \"Map Service\"))  # Filter by WKT geometry string wkt1 <- \"POLYGON((-104.4 41.0,-95.1 41.0,-95.1 37.5,-104.4 37.5,-104.4 41.0))\" wkt2 <- \"POLYGON((-104.4 38.3,-95.2 38.3,-95.2 33.7,-104.4 34.0,-104.4 38.3))\" query_sb(list(spatialQuery = wkt1)) query_sb(list(spatialQuery = wkt1, spatialQuery = wkt2))  # Date range query_sb(list(dateRange = '{\"dateType\":\"Collected\",\"choice\":\"year\"}')) query_sb(list(dateRange = '{\"dateType\":\"lastUpdated\",\"choice\":\"month\"}')) query_sb(list(dateRange =      '{\"dateType\":\"Release\",\"choice\":\"range\",\"start\":\"2014-09-01\",\"end\":\"2015-09-01\"}')) }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_datatype.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for specific data type — query_sb_datatype","title":"Query SB for specific data type — query_sb_datatype","text":"Queries ScienceBase items matching datatype.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_datatype.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for specific data type — query_sb_datatype","text":"","code":"query_sb_datatype(datatype, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_datatype.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for specific data type — query_sb_datatype","text":"datatype Character string indicating datatype. See sb_datatypes full list available datatypes. ... Additional parameters passed GET limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_datatype.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query SB for specific data type — query_sb_datatype","text":"list sbitem objects. List length 0  means matches found.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_datatype.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for specific data type — query_sb_datatype","text":"","code":"# \\donttest{ #query for items with WFS Layer data query_sb_datatype('Static Map Image') #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(list(filter = paste0(\"browseType=\", datatype)), ..., : object 'result' not found #> NULL  #query for US Topo maps query_sb_datatype('Map Service') #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(list(filter = paste0(\"browseType=\", datatype)), ..., : object 'result' not found #> NULL # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for items within a date range — query_sb_date","title":"Query SB for items within a date range — query_sb_date","text":"Queries ScienceBase items timestamps within certain date/time range.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for items within a date range — query_sb_date","text":"","code":"query_sb_date(   start = as.POSIXct(\"1970-01-01\"),   end = Sys.time(),   date_type = \"lastUpdated\",   ...,   limit = 20 )"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_date.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for items within a date range — query_sb_date","text":"start Start date POSIXct object. Defaults 1970-01-01 end End date POSIXct object. Defaults today. date_type object timestamp query . Options (case sensitive):  'Acquisition', 'Award', 'Collected', 'dateCreated', 'Received', 'Reported',  'Transmitted', 'Due', 'End', 'Info', 'lastUpdated', 'Publication', 'Release',  'Repository Created', 'Repository Updated', 'Start'. ... Additional parameters passed GET limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_date.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for items within a date range — query_sb_date","text":"","code":"if (FALSE) { # find items updated today query_sb_date(Sys.time(), Sys.time())  # find items with publications from the 1970's query_sb_date(as.POSIXct('1970-01-01'), as.POSIXct('1980-01-01'),    date_type='Publication', limit=1000)  }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_doi.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for specific DOI (Digital Object Identifier) — query_sb_doi","title":"Query SB for specific DOI (Digital Object Identifier) — query_sb_doi","text":"Queries ScienceBase items specific DOI identifier.  ScienceBase, stored additional unique identifiers.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_doi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for specific DOI (Digital Object Identifier) — query_sb_doi","text":"","code":"query_sb_doi(doi, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_doi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for specific DOI (Digital Object Identifier) — query_sb_doi","text":"doi DOI search character ... Additional parameters passed GET limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_doi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query SB for specific DOI (Digital Object Identifier) — query_sb_doi","text":"list sbitem objects. List length 0  means matches found.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_doi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for specific DOI (Digital Object Identifier) — query_sb_doi","text":"","code":"# \\donttest{ #Two example DOI-specific queries query_sb_doi('10.5066/F7M043G7') #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(query_list = query, ..., limit = limit): object 'result' not found #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(query_list = query, ..., limit = limit): object 'result' not found #> NULL  query_sb_doi('10.5066/F7Z60M35') #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(query_list = query, ..., limit = limit): object 'result' not found #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(query_list = query, ..., limit = limit): object 'result' not found #> NULL # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_spatial.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB based on spatial extent — query_sb_spatial","title":"Query SB based on spatial extent — query_sb_spatial","text":"Queries ScienceBase based spatial bounding box. Accepts either sp spatial data object (uses spatial object's bounding box) long/lat coordinates defining bounding box limits.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_spatial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB based on spatial extent — query_sb_spatial","text":"","code":"query_sb_spatial(bbox, long, lat, bb_wkt, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_spatial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB based on spatial extent — query_sb_spatial","text":"bbox sf spatial data object. bounding box object used query. long vector longitude values define boundaries bounding box. Min Max supplied longitudes used. (alternate option bbox). lat vector latitude values define boundaries bounding box. Min Max supplied latitude used. (alternate option bbox). bb_wkt character string using Well Known Text (WKT) standard defining spatial data. Must POLYGON WKT object. ... Additional parameters passed GET limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_spatial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB based on spatial extent — query_sb_spatial","text":"","code":"# \\donttest{ #specify the latitude and longitude points to define the bounding box range.  # This is simply bottom left and top right points query_sb_spatial(long=c(-104.4, -95.1), lat=c(37.5, 41.0), limit=3) #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(list(spatialQuery = bb_wkt), limit = limit): object 'result' not found #> NULL  #use a pre-formatted WKT polygon to grab data query_sb_spatial(bb_wkt=\"POLYGON((-104.4 41.0,-95.1 41.0,-95.1 37.5,-104.4 37.5,-104.4 41.0))\",                    limit=3) #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(list(spatialQuery = bb_wkt), limit = limit): object 'result' not found #> NULL # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for items containing specific text — query_sb_text","title":"Query SB for items containing specific text — query_sb_text","text":"Queries ScienceBase items matching text title  description","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for items containing specific text — query_sb_text","text":"","code":"query_sb_text(text, ..., limit = 20)"},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for items containing specific text — query_sb_text","text":"text Text string search ... Additional parameters passed GET limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query SB for items containing specific text — query_sb_text","text":"list sbitem objects. List length 0  means matches found.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/query_sb_text.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for items containing specific text — query_sb_text","text":"","code":"# \\donttest{ #query for a person's name query_sb_text('Luna Leopold') #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(list(q = text), limit = limit): object 'result' not found #> NULL  #query for one of the old river gaging stations query_sb_text('Lees Ferry') #> Warning: unhandled error with sciencebase request.  #>  Error was:  #>  Error in get_refresh_token(): no token found, must call authenticate_sb() #> Warning: Something unexpected went wrong with a web request  #>  Original error was: #>  Error in query_sb(list(q = text), limit = limit): object 'result' not found #> NULL # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/readPassword.html","id":null,"dir":"Reference","previous_headings":"","what":"Read in a password from the user — readPassword","title":"Read in a password from the user — readPassword","text":"Uses RStudio pop-password window available","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/readPassword.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read in a password from the user — readPassword","text":"","code":"readPassword(prompt)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbitem.html","id":null,"dir":"Reference","previous_headings":"","what":"ScienceBase item class — sbitem","title":"ScienceBase item class — sbitem","text":"ScienceBase item class","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbitem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ScienceBase item class — sbitem","text":"","code":"as.sbitem(x, ...)  # S3 method for default as.sbitem(x, ...)  is.sbitem(x)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbitem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ScienceBase item class — sbitem","text":"x Input, variety things, character, list, sbitem class  object ... args passed item_get,  method character class inputs","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbitem.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ScienceBase item class — sbitem","text":"","code":"# \\donttest{ # Single item from item_get() item_get(\"4f4e4b24e4b07f02db6aea14\") #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 2.5 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in value[[3L]](cond): Session is not valid.  # Get many w/ e.g., an lapply() call library(\"httr\") res <- query_items(list(s = \"Search\", q = \"water\", format = \"json\")) #> Error in get_refresh_token(): no token found, must call authenticate_sb() if(res$status != 404) {   ids <- vapply(httr::content(res)$items, \"[[\", \"\", \"id\")   (out <- lapply(ids[1:3], item_get)) } #> Error in eval(expr, envir, enclos): object 'res' not found # create item class from only an item ID as.sbitem(\"4f4e4b24e4b07f02db6aea14\") #> Request failed [404]. Retrying in 1 seconds... #> Request failed [404]. Retrying in 3.3 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in get_refresh_token(): no token found, must call authenticate_sb()  # sbitem gives back itself (x <- as.sbitem(\"4f4e4b24e4b07f02db6aea14\")) #> Request failed [404]. Retrying in 1.7 seconds... #> Request failed [404]. Retrying in 1 seconds... #> Item not found for ID=4f4e4b24e4b07f02db6aea14. Either the item does not exist or the item is secured and requires authentication to access.FALSE #> Error in get_refresh_token(): no token found, must call authenticate_sb() as.sbitem(x) #> Error in eval(expr, envir, enclos): object 'x' not found # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools-package.html","id":null,"dir":"Reference","previous_headings":"","what":"R interface to ScienceBase — sbtools-package","title":"R interface to ScienceBase — sbtools-package","text":"package provides rich interface USGS's ScienceBase  https://www.sciencebase.gov/ - data cataloging collaborative  data management platform. information, see sbtools manuscript  . Functions inluded searching data, retrieving, creating,  updating datasets.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R interface to ScienceBase — sbtools-package","text":"Functionality package allows users query ScienceBase  data using variety metadata types (query_sb_text,  query_sb_doi, query_sb_spatial). Items associated information can requested item_get including item parents  item_get_parent children item_list_children. Data attached files can accessed available items provided functionality (e.g., item_file_download).","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools-package.html","id":"authentication","dir":"Reference","previous_headings":"","what":"Authentication","title":"R interface to ScienceBase — sbtools-package","text":"See function authenticate_sb authenticate.  required pass ScienceBase username password. Authenticated users can create, update, remove items (item_list_children,  item_list_children, item_create, item_update,  item_rm).","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools-package.html","id":"feedback","dir":"Reference","previous_headings":"","what":"Feedback","title":"R interface to ScienceBase — sbtools-package","text":"Report feedback bugs https://github.com/DOI-USGS/sbtools/issues","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_DELETE.html","id":null,"dir":"Reference","previous_headings":"","what":"generic DELETEs for sbtools package — sbtools_DELETE","title":"generic DELETEs for sbtools package — sbtools_DELETE","text":"package wrapped generic DELETEs test sessions internally wrap errors","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_DELETE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"generic DELETEs for sbtools package — sbtools_DELETE","text":"","code":"sbtools_DELETE(url, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_DELETE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"generic DELETEs for sbtools package — sbtools_DELETE","text":"url base url DELETE ... additional params passed DELETE, e.g.,  accept_json()","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_GET.html","id":null,"dir":"Reference","previous_headings":"","what":"generic GETs for sbtools package — sbtools_GET","title":"generic GETs for sbtools package — sbtools_GET","text":"package wrapped generic GETs test sessions internally wrap errors","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_GET.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"generic GETs for sbtools package — sbtools_GET","text":"","code":"sbtools_GET(url, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_GET.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"generic GETs for sbtools package — sbtools_GET","text":"url base url GET ... additional params passed GET, often  including query","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_POST.html","id":null,"dir":"Reference","previous_headings":"","what":"generic POSTs for sbtools package\r\npackage wrapped for generic POSTs that test sessions internally and wrap some errors — sbtools_POST","title":"generic POSTs for sbtools package\r\npackage wrapped for generic POSTs that test sessions internally and wrap some errors — sbtools_POST","text":"generic POSTs sbtools package package wrapped generic POSTs test sessions internally wrap errors","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_POST.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"generic POSTs for sbtools package\r\npackage wrapped for generic POSTs that test sessions internally and wrap some errors — sbtools_POST","text":"","code":"sbtools_POST(url, body, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_POST.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"generic POSTs for sbtools package\r\npackage wrapped for generic POSTs that test sessions internally and wrap some errors — sbtools_POST","text":"url base url POST body POST body ... additional params passed POST","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_PUT.html","id":null,"dir":"Reference","previous_headings":"","what":"generic PUTs for sbtools package — sbtools_PUT","title":"generic PUTs for sbtools package — sbtools_PUT","text":"package wrapped generic PUTs test sessions internally wrap  errors","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_PUT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"generic PUTs for sbtools package — sbtools_PUT","text":"","code":"sbtools_PUT(url, body, ...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sbtools_PUT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"generic PUTs for sbtools package — sbtools_PUT","text":"url base url PUT body PUT body PUT ... additional params passed PUT, e.g., accept_json()","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_datatypes.html","id":null,"dir":"Reference","previous_headings":"","what":"Query SB for all available datatypes — sb_datatypes","title":"Query SB for all available datatypes — sb_datatypes","text":"Queries ScienceBase list available datatypes. can coupled query_sb_datatype query based type data","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_datatypes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query SB for all available datatypes — sb_datatypes","text":"","code":"sb_datatypes(limit = 50)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_datatypes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query SB for all available datatypes — sb_datatypes","text":"limit Maximum number returned items. paging retrieve results limit 1000. Use caution, queries 10k results slow.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_datatypes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Query SB for all available datatypes — sb_datatypes","text":"","code":"if (FALSE) { #return all datatypes (limit 50 by default) sb_datatypes() }"},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_ping.html","id":null,"dir":"Reference","previous_headings":"","what":"Ping ScienceBase to see if it's available — sb_ping","title":"Ping ScienceBase to see if it's available — sb_ping","text":"Ping ScienceBase see available","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_ping.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ping ScienceBase to see if it's available — sb_ping","text":"","code":"sb_ping(...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_ping.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ping ScienceBase to see if it's available — sb_ping","text":"... Additional parameters passed GET","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_ping.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ping ScienceBase to see if it's available — sb_ping","text":"Boolean (TRUE) indicating connection ScienceBase can established  responding expected. FALSE otherwise.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/sb_ping.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ping ScienceBase to see if it's available — sb_ping","text":"","code":"# \\donttest{ #TRUE if all is well and SB can be contacted sb_ping() #> [1] TRUE # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_age.html","id":null,"dir":"Reference","previous_headings":"","what":"a convienence function for getting the age of a session. — session_age","title":"a convienence function for getting the age of a session. — session_age","text":"convienence function getting age session.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"a convienence function for getting the age of a session. — session_age","text":"","code":"session_age()"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"a convienence function for getting the age of a session. — session_age","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"a convienence function for getting the age of a session. — session_age","text":"difftime object","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_age.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"a convienence function for getting the age of a session. — session_age","text":"","code":"if (FALSE) { authenticate_sb('bbadger@usgs.gov') sbtools::session_age() }"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_details.html","id":null,"dir":"Reference","previous_headings":"","what":"Get session info — session_details","title":"Get session info — session_details","text":"Get details associated current ScienceBase user session.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_details.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get session info — session_details","text":"","code":"session_details()"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_details.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get session info — session_details","text":"list, logged states , logged , user details logged , include \"jossoSessionId\" can used  authenticated file downloads appending josso='jossoSessionId'  url file requiring authentication. helpful passing url library handle download remote file automatically  jsonlite::readJSON readr::read_csv.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_details.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get session info — session_details","text":"","code":"if (FALSE) {  session_details()   # If logged in, can use jossoSessionId for downloads. initialize_sciencebase_session()  temp_json <- tempfile(fileext = \".json\")  jsonlite::write_json(list(test = \"test\"), temp_json)  item <- item_upload_create(sbtools::user_id(), temp_json)  token <- session_details()$jossoSessionId  (base_url <- item$file[[1]]$downloadUri)  # will fail try(jsonlite::read_json(base_url))  url <- paste0(base_url, \"&josso=\", token)  jsonlite::read_json(url)  item_rm(item$id)  }"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_expired.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether an SB session is expired — session_expired","title":"Check whether an SB session is expired — session_expired","text":"Check expiration using session_age","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_expired.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether an SB session is expired — session_expired","text":"","code":"session_expired()"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_expired.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether an SB session is expired — session_expired","text":"sb_id sbitem object character ScienceBase ID corresponding item ... Additional parameters passed GET, POST, HEAD, PUT, DELETE session Session object authenticate_sb. Defaults anonymous  last authenticated session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_renew.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks current session and re-authenticates if necessary — session_renew","title":"Checks current session and re-authenticates if necessary — session_renew","text":"Checks state Sciencebase session, re-authenticates session expired, simply renews session active.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_renew.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks current session and re-authenticates if necessary — session_renew","text":"","code":"session_renew(password, ..., username)"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_renew.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks current session and re-authenticates if necessary — session_renew","text":"password password use, needed, renew session. ... additional parameters currently ignored. username Optional. Used confirm current username  expect; want switch usernames, use  authenticate_sb() instead function. session SB session object authenticate_sb. Default  current session.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_renew.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks current session and re-authenticates if necessary — session_renew","text":"Returns session object.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_renew.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Checks current session and re-authenticates if necessary — session_renew","text":"","code":"if (FALSE) { # an empty call is sufficient if the session is current,  # but will break if haven't been logged in before session_renew()  # include a password if session may be expired session_renew('newpass')  # optionally confirm the value of the current username session_renew(username='olduser@usgs.gov', 'newpass') }"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_validate.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate sbtools session state — session_validate","title":"Validate sbtools session state — session_validate","text":"session considered valid NULL true, non-expired SB session","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_validate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate sbtools session state — session_validate","text":"","code":"session_validate()"},{"path":"http://doi-usgs.github.io/sbtools/reference/session_validate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate sbtools session state — session_validate","text":"TRUE/FALSE indicating session valid can used.    Returns TRUE session NULL well.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/session_validate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate sbtools session state — session_validate","text":"function operates active initialized session.","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/set_endpoint.html","id":null,"dir":"Reference","previous_headings":"","what":"Set SB endpoint — set_endpoint","title":"Set SB endpoint — set_endpoint","text":"Sets internal URLS used either production development (beta) SB server. URLS stored internally package","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/set_endpoint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set SB endpoint — set_endpoint","text":"","code":"set_endpoint(endpoint = c(\"production\", \"development\"))"},{"path":"http://doi-usgs.github.io/sbtools/reference/set_endpoint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set SB endpoint — set_endpoint","text":"endpoint Indicate SB endpoint  want use options: c('production','development')","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/set_endpoint.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Set SB endpoint — set_endpoint","text":"Luke Winslow","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/set_endpoint.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set SB endpoint — set_endpoint","text":"","code":"# \\donttest{ set_endpoint('prod')  # getting item from production SB servers item_get('5060b03ae4b00fc20c4f3c8b') #> Error in value[[3L]](cond): Session is not valid.  set_endpoint('dev') # getting item from beta SB servers item_get('521e4686e4b051c878dc35d0') #> Error in value[[3L]](cond): Session is not valid.  # }"},{"path":"http://doi-usgs.github.io/sbtools/reference/user_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Get your parent ID — user_id","title":"Get your parent ID — user_id","text":"Required creating items","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/user_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get your parent ID — user_id","text":"","code":"user_id(...)"},{"path":"http://doi-usgs.github.io/sbtools/reference/user_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get your parent ID — user_id","text":"... Additional parameters passed POST session Session object authenticate_sb","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/user_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get your parent ID — user_id","text":"single character string, user id","code":""},{"path":"http://doi-usgs.github.io/sbtools/reference/user_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get your parent ID — user_id","text":"","code":"if (FALSE) { user_id() }"},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-130","dir":"Changelog","previous_headings":"","what":"version 1.3.0","title":"version 1.3.0","text":"Added initialize_sciencebase_session() support tokenized login users longer access username password. Sciencebase session object longer returned authenticate_sb() current_session() now returns active login token. Removed session_logout() session_age_reset()","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-120-2023-04-28","dir":"Changelog","previous_headings":"","what":"Version 1.2.0 (2023-04-28)","title":"Version 1.2.0 (2023-04-28)","text":"CRAN release: 2023-04-30 added item_publish_cloud() push files S3 public cloud storage. #302 update URLs new repository. #303 improved handling authentication invalid logins check error messages firewall blocks","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-1121-2022-11-03","dir":"Changelog","previous_headings":"","what":"Version 1.1.21 (2022-11-03)","title":"Version 1.1.21 (2022-11-03)","text":"CRAN release: 2022-11-03 web calls now use httr::RETRY() bit robust. #213 Password management can now done keyring package. File uploads large files now robust longer time tolerances.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-1120-2022-10-27","dir":"Changelog","previous_headings":"","what":"Version 1.1.20 (2022-10-27)","title":"Version 1.1.20 (2022-10-27)","text":"CRAN release: 2022-10-28 Added checksum validation regular cloud uploads.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-1119-2022-07-14","dir":"Changelog","previous_headings":"","what":"Version 1.1.19 (2022-07-14)","title":"Version 1.1.19 (2022-07-14)","text":"CRAN release: 2022-07-14 CRAN checks failing donttest examples.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-1118-2022-05-26","dir":"Changelog","previous_headings":"","what":"Version 1.1.18 (2022-05-26)","title":"Version 1.1.18 (2022-05-26)","text":"CRAN release: 2022-05-26 Added support cloud file upload download. See item_upload_cloud() item_list_files() item_file_download(). Added ability pull jossoSessionId session_details(), useful pulling files directly sciencebase via R functions use sbtools session authentication. See session_details() description . Removed deprecated item_get_wfs() function. Renamed master branch main. Added facets locations sciencebase files can found. See item_list_files() description info. Note response item_list_files() changed. “facet” attribute lists name facet file came included.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-11161117-2021-07-01","dir":"Changelog","previous_headings":"","what":"Version 1.1.16/1.1.17 (2021-07-01)","title":"Version 1.1.16/1.1.17 (2021-07-01)","text":"CRAN release: 2021-07-01 Versions 1.1.16 1.1.17 minor changes CRAN.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-1115-2021-06-07","dir":"Changelog","previous_headings":"","what":"Version 1.1.15 (2021-06-07)","title":"Version 1.1.15 (2021-06-07)","text":"CRAN release: 2021-06-04 Added scrape_files parameter item_upload_files() item_append_files() Fixed CRAN check issues ScienceBase availability. 10 second timeout added web service calls.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-1114-2020-03-01","dir":"Changelog","previous_headings":"","what":"Version 1.1.14 (2020-03-01)","title":"Version 1.1.14 (2020-03-01)","text":"CRAN release: 2021-02-16 Version 1.1.10 1.1.14 minor changes CRAN.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-119-2020-01-07","dir":"Changelog","previous_headings":"","what":"Version 1.1.9 (2020-01-07)","title":"Version 1.1.9 (2020-01-07)","text":"CRAN release: 2020-01-08 Fixed travis build addressed CRAN test failures. Deprecated item_get_wfs – removed future version. Changed maintainer dblodgett@usgs.gov See repository updates.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-113-2016-08-18","dir":"Changelog","previous_headings":"","what":"Version 1.1.3 (2016-08-18)","title":"Version 1.1.3 (2016-08-18)","text":"CRAN release: 2016-08-19 Fix items_create properly handle cases creating one item Add sbtools user agent string Alter item_list_children use query_sb item return limit can > 1000. raw option removed support functionality.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-103-2016-06-30","dir":"Changelog","previous_headings":"","what":"Version 1.0.3 (2016-06-30)","title":"Version 1.0.3 (2016-06-30)","text":"Fix item_rm bug","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-102-2016-06-22","dir":"Changelog","previous_headings":"","what":"Version 1.0.2 (2016-06-22)","title":"Version 1.0.2 (2016-06-22)","text":"CRAN release: 2016-06-23 Cleanup CRAN release","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-0193-2016-06-17","dir":"Changelog","previous_headings":"","what":"Version 0.19.3 (2016-06-17)","title":"Version 0.19.3 (2016-06-17)","text":"Bunch changes reviews item_get_parent now returns sbitem, just ID fixed probablem query_sb_doi query_sb_spatial longer awkard bounding box specification, just uses lat/long arrays determines box sb_ping returns boolean TRUE/FALSE success/fail set_endpoint longer includes verbose message properly uses match.arg item_list_children now returns list sbitem uniform rest sbtools Lots documentation updates new demos","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-0185-2016-06-01","dir":"Changelog","previous_headings":"","what":"Version 0.18.5 (2016-06-01)","title":"Version 0.18.5 (2016-06-01)","text":"Fixed issue query_sb_datatype New improved item_get_wfs. Better performance longer requires hard--install external dependencies.","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-0180-2016-04-10","dir":"Changelog","previous_headings":"","what":"Version 0.18.0 (2016-04-10)","title":"Version 0.18.0 (2016-04-10)","text":"Improved version query_sb() now requests useful metadata sbitem list key metadata query_item_identifier() now returns sbitem list instead data.frame. Also, *_item_identifier() funcitons now unified parameter order","code":""},{"path":"http://doi-usgs.github.io/sbtools/news/index.html","id":"version-0170-2016-04-10","dir":"Changelog","previous_headings":"","what":"Version 0.17.0 (2016-04-10)","title":"Version 0.17.0 (2016-04-10)","text":"item_replace_files() changed default flag FALSE doesn’t delete files default. Added item_rename_files() enable user easily rename files attached items directly.","code":""}]
