<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Tools for interacting with U.S. Geological Survey ScienceBase
    &lt;https://www.sciencebase.gov&gt; interfaces. ScienceBase is a data cataloging and
    collaborative data management platform. Functions included for querying
    ScienceBase, and creating and fetching datasets.">
<title>USGS ScienceBase Tools • sbtools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="USGS ScienceBase Tools">
<meta property="og:description" content="Tools for interacting with U.S. Geological Survey ScienceBase
    &lt;https://www.sciencebase.gov&gt; interfaces. ScienceBase is a data cataloging and
    collaborative data management platform. Functions included for querying
    ScienceBase, and creating and fetching datasets.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">sbtools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/sbtools.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DOI-USGS/sbtools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="sciencebase-r-tools">ScienceBase R Tools<a class="anchor" aria-label="anchor" href="#sciencebase-r-tools"></a>
</h1></div>
<p>Tools for interfacing R with ScienceBase data services.</p>
<div class="section level2">
<h2 id="package-description">Package Description<a class="anchor" aria-label="anchor" href="#package-description"></a>
</h2>
<p>This package provides a rich interface to USGS’s <a href="https://www.sciencebase.gov/" class="external-link">ScienceBase</a>, a data cataloging and collaborative data management platform. For further information, see the <a href="https://journal.r-project.org/archive/2016-1/winslow-chamberlain-appling-etal.pdf" class="external-link">sbtools manuscript in The R Journal</a> (USGS IP-075498). See <code>citation('sbtools')</code> for how to cite the package.</p>
<div class="section level3">
<h3 id="recommended-citation">Recommended Citation:<a class="anchor" aria-label="anchor" href="#recommended-citation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>  Winslow, LA, S Chamberlain, AP Appling, and JS Read. <span class="fl">2016.</span> sbtools<span class="sc">:</span> </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  A package connecting R to cloud<span class="sc">-</span>based data <span class="cf">for</span> collaborative online </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  research. The R Journal <span class="dv">8</span><span class="sc">:</span><span class="dv">387</span><span class="fl">-398.</span></span></code></pre></div>
<p>Package source code DOI: <a href="https://doi.org/10.5066/P912NGFV" class="external-link uri">https://doi.org/10.5066/P912NGFV</a></p>
<table class="table">
<colgroup>
<col width="36%">
<col width="63%">
</colgroup>
<thead><tr class="header">
<th>Linux</th>
<th>Test Coverage</th>
</tr></thead>
<tbody><tr class="odd">
<td><img src="https://github.com/doi-usgs/sbtools/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></td>
<td><a href="https://app.codecov.io/github/DOI-USGS/sbtools?branch=master" class="external-link"><img src="https://codecov.io/github/DOI-USGS/sbtools/coverage.svg?branch=master" alt="codecov.io"></a></td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="current-cran-information">Current CRAN information<a class="anchor" aria-label="anchor" href="#current-cran-information"></a>
</h3>
<table class="table">
<colgroup>
<col width="35%">
<col width="30%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th>Version</th>
<th>Monthly Downloads</th>
<th>Total Downloads</th>
</tr></thead>
<tbody><tr class="odd">
<td><a href="https://cran.r-project.org/package=sbtools" class="external-link"><img src="https://www.r-pkg.org/badges/version/sbtools" alt="CRAN version"></a></td>
<td><a href="https://cran.r-project.org/package=sbtools" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/sbtools"></a></td>
<td><a href="https://cran.r-project.org/package=sbtools" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/sbtools"></a></td>
</tr></tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="package-installation">Package Installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h2>
<p>To install the <code>sbtools</code> package, you must be using R 3.0 or greater and run the following command:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"sbtools"</span><span class="op">)</span></span></code></pre></div>
<p>To get cutting-edge changes, install from GitHub using the <code>devtools</code> packages:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"DOI-USGS/sbtools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reporting-bugs">Reporting bugs<a class="anchor" aria-label="anchor" href="#reporting-bugs"></a>
</h2>
<p>Please consider reporting bugs and asking questions on the Issues page:</p>
<p><a href="https://github.com/DOI-USGS/sbtools/issues" class="external-link uri">https://github.com/DOI-USGS/sbtools/issues</a></p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DOI-USGS/sbtools" class="external-link">sbtools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Query ScienceBase for data about Antarctica</span></span>
<span><span class="fu"><a href="reference/query_sb_text.html">query_sb_text</a></span><span class="op">(</span><span class="st">'Antarctica'</span>, limit<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; &lt;ScienceBase Item&gt; </span></span>
<span><span class="co">#&gt;   Title: Tectonics of Antarctica</span></span>
<span><span class="co">#&gt;   Creator/LastUpdatedBy:      / </span></span>
<span><span class="co">#&gt;   Provenance (Created / Updated):   / </span></span>
<span><span class="co">#&gt;   Children: </span></span>
<span><span class="co">#&gt;   Item ID: 505ba488e4b08c986b3203fa</span></span>
<span><span class="co">#&gt;   Parent ID: 4f4e4771e4b07f02db47e1e4</span></span>
<span></span>
<span><span class="co"># Query for a specific DOI</span></span>
<span><span class="fu"><a href="reference/query_sb_doi.html">query_sb_doi</a></span><span class="op">(</span><span class="st">'10.5066/F7M043G7'</span><span class="op">)</span></span>
<span><span class="co">#&gt; list()</span></span>
<span></span>
<span><span class="co"># Inspect the contents of the above item</span></span>
<span><span class="va">children</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/item_list_children.html">item_list_children</a></span><span class="op">(</span><span class="st">'557f0367e4b023124e8ef621'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Request failed [404]. Retrying in 1 seconds...</span></span>
<span><span class="co">#&gt; Request failed [404]. Retrying in 2.2 seconds...</span></span>
<span><span class="co">#&gt; Item not found for ID=557f0367e4b023124e8ef621. Either the item does not exist or the item is secured and requires authentication to access.FALSE</span></span>
<span><span class="co">#&gt; Request failed [404]. Retrying in 1.7 seconds...</span></span>
<span><span class="co">#&gt; Request failed [404]. Retrying in 1 seconds...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">children</span>, <span class="kw">function</span><span class="op">(</span><span class="va">child</span><span class="op">)</span> <span class="va">child</span><span class="op">$</span><span class="va">title</span><span class="op">)</span></span>
<span><span class="co">#&gt; list()</span></span>
<span></span>
<span><span class="co"># Log in (requires a ScienceBase account) and create an item</span></span>
<span><span class="fu"><a href="reference/authenticate_sb.html">authenticate_sb</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"sb_user"</span><span class="op">)</span><span class="op">)</span> <span class="co"># type in password</span></span>
<span><span class="va">my_home_item</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/user_id.html">user_id</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">new_item</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/item_create.html">item_create</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'new test item'</span>, parent_id <span class="op">=</span> <span class="va">my_home_item</span><span class="op">)</span></span>
<span><span class="va">test.txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">'test.txt'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'this is'</span>,<span class="st">'my data file'</span><span class="op">)</span>, <span class="st">"test.txt"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/item_append_files.html">item_append_files</a></span><span class="op">(</span><span class="va">new_item</span>, <span class="st">"test.txt"</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;ScienceBase Item&gt; </span></span>
<span><span class="co">#&gt;   Title: new test item</span></span>
<span><span class="co">#&gt;   Creator/LastUpdatedBy:     dblodgett@usgs.gov / dblodgett@usgs.gov</span></span>
<span><span class="co">#&gt;   Provenance (Created / Updated):  2022-11-03T19:47:46Z / 2022-11-03T19:47:48Z</span></span>
<span><span class="co">#&gt;   Children: FALSE</span></span>
<span><span class="co">#&gt;   Item ID: 63641ae2d34ebe4425074d93</span></span>
<span><span class="co">#&gt;   Parent ID: 4f7afec1e4b0b2f259355f30</span></span>
<span><span class="fu"><a href="reference/item_list_files.html">item_list_files</a></span><span class="op">(</span><span class="va">new_item</span><span class="op">)</span><span class="op">$</span><span class="va">fname</span></span>
<span><span class="co">#&gt; [1] "test.txt"</span></span>
<span></span>
<span><span class="fu"><a href="reference/item_rm.html">item_rm</a></span><span class="op">(</span><span class="va">new_item</span><span class="op">)</span></span>
<span><span class="co">#&gt; Response [https://www.sciencebase.gov/catalog/item/63641ae2d34ebe4425074d93?format=json]</span></span>
<span><span class="co">#&gt;   Date: 2022-11-03 19:47</span></span>
<span><span class="co">#&gt;   Status: 200</span></span>
<span><span class="co">#&gt;   Content-Type: &lt;unknown&gt;</span></span>
<span><span class="co">#&gt; &lt;EMPTY BODY&gt;</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="st">"test.txt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="release-procedure">Release Procedure<a class="anchor" aria-label="anchor" href="#release-procedure"></a>
</h2>
<p>For release of the sbtools package, a number of steps are required.</p>
<ol style="list-style-type: decimal">
<li>Ensure all checks pass and code coverage is adequate.</li>
<li>Ensure <code>NEWS.md</code> reflects updates in version.</li>
<li>Update <code>DESCRIPTION</code> to reflect release version.</li>
<li>Build source package and upload to CRAN.</li>
<li>Once accepted to CRAN, convert <code>DISCLAIMER.md</code> to approved language.</li>
<li>Change references to main branch in <code>code.json</code> to release version.</li>
<li>Commit changes and tag repository at release version. Push tag.</li>
<li>Change <code>code.json</code> and <code>DISCLAIMER.md</code> back to development mode.</li>
</ol>
</div>
</div>
<div class="section level1">
<h1 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h1>
<p>This software has been approved for release by the U.S. Geological Survey (USGS). Although the software has been subjected to rigorous review, the USGS reserves the right to update the software as needed pursuant to further analysis and review. No warranty, expressed or implied, is made by the USGS or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. Furthermore, the software is released on condition that neither the USGS nor the U.S. Government shall be held liable for any damages resulting from its authorized or unauthorized use.</p>
<p>This software is in the public domain because it contains materials that originally came from the U.S. Geological Survey, an agency of the United States Department of Interior. For more information, see the <a href="https://www.usgs.gov/information-policies-and-instructions/copyrights-and-credits" title="official USGS copyright policy" class="external-link">official USGS copyright policy</a></p>
<p><a href="https://creativecommons.org/publicdomain/zero/1.0/" class="external-link"><img src="https://i.creativecommons.org/p/zero/1.0/88x31.png" alt="CC0"></a></p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=sbtools" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/DOI-USGS/sbtools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/DOI-USGS/sbtools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>CC0</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sbtools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Blodgett <br><small class="roles"> Maintainer </small>  </li>
<li>Luke Winslow <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Blodgett, Luke Winslow.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
